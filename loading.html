<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Velora - Loading</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">

  <!-- PWA: Manifest & Meta Tags -->
  <link rel="manifest" href="manifest.json" />
  <meta name="theme-color" content="#537D5D" />
  <meta name="mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  <link rel="apple-touch-icon" href="/assets/icon-512.png" />
  <link rel="icon" href="/assets/icon-192.png" />
  <style>
    body {
      font-family: 'Georgia', serif;
      background-color: #FAF6E9;
      color: #333;
    }
    .font-poppins {
      font-family: 'Poppins', sans-serif;
    }
    /* Loading animation */
    .loading-spinner {
      width: 40px;
      height: 40px;
      margin: 0 auto;
    }
    .loading-spinner div {
      width: 6px;
      height: 6px;
      background-color: #B8C5A0;
      border-radius: 50%;
      display: inline-block;
      animation: loading-pulse 1.4s ease-in-out infinite both;
      margin: 0 2px;
    }
    .loading-spinner div:nth-child(1) { animation-delay: -0.32s; }
    .loading-spinner div:nth-child(2) { animation-delay: -0.16s; }
    .loading-spinner div:nth-child(3) { animation-delay: 0s; }
    .loading-spinner div:nth-child(4) { animation-delay: 0.16s; }
    .loading-spinner div:nth-child(5) { animation-delay: 0.32s; }
    .loading-spinner div:nth-child(6) { animation-delay: 0.48s; }
    .loading-spinner div:nth-child(7) { animation-delay: 0.64s; }
    .loading-spinner div:nth-child(8) { animation-delay: 0.8s; }
    @keyframes loading-pulse {
      0%, 80%, 100% {
        transform: scale(0.6);
        opacity: 0.5;
      }
      40% {
        transform: scale(1);
        opacity: 1;
      }
    }
    /* Bowl animation */
    .bowl-container {
      animation: float 3s ease-in-out infinite;
    }
    @keyframes float {
      0%, 100% {
        transform: translateY(0px);
      }
      50% {
        transform: translateY(-10px);
      }
    }
    /* Responsive tweaks */
    @media (max-width: 480px) {
      .bowl-container img {
        width: 180px !important;
        height: 180px !important;
      }
      h1 {
        font-size: 1.25rem !important;
      }
      p {
        font-size: 1rem !important;
      }
      .mb-8 {
        margin-bottom: 1.5rem !important;
      }
      .max-w-md {
        max-width: 95vw !important;
      }
    }
  </style>
</head>
<body class="min-h-screen flex flex-col items-center justify-center px-4">
  <!-- Main Content -->
  <div class="flex flex-col items-center text-center max-w-md w-full mx-auto">
    <!-- Bowl Image with Animation -->
    <div class="bowl-container mb-8">
      <img src="assets/loading.png" alt="Loading Bowl" class="w-60 h-60 max-w-xs object-contain mx-auto">
    </div>
    <!-- Loading Text -->
    <h1 class="text-2xl text-[#537D5D] font-bold mb-4">
      Mohon Menunggu...
    </h1>
    <p class="text-[#666666] font-poppins text-base leading-relaxed">
      Kami sedang mengatur rekomendasi untuk Anda!
    </p>
  </div>
  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', function () {
        navigator.serviceWorker.register('service-worker.js').then(function (registration) {
          console.log('ServiceWorker registration successful with scope: ', registration.scope);
        }, function (err) {
          console.log('ServiceWorker registration failed: ', err);
        });
      });
    }
    const isMobile = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);
    if (!isMobile) {
      window.location.href = "desktop.html";
    }
    // Simulate loading for 10 seconds then redirect to results page
    setTimeout(function() {
      window.location.href = "welcome.html";
    }, 10000);
  </script>
</body>
</html>